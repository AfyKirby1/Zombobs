<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zombie Survival Game</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet" />
    <style>
        :root {
            --bg-start: #02040a;
            --bg-end: #051b1f;
            --accent: #ff1744;
            --accent-soft: #ff5252;
            --card-bg: rgba(10, 10, 14, 0.9);
            --card-border: rgba(255, 255, 255, 0.08);
            --text-main: #f5f5f5;
            --text-muted: #9e9e9e;
            --pill-bg: rgba(255, 255, 255, 0.06);
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 24px;
            font-family: 'Roboto Mono', monospace;
            color: var(--text-main);
            background:
                radial-gradient(circle at top left, #121212 0, transparent 50%),
                radial-gradient(circle at bottom right, #1b2229 0, transparent 55%),
                linear-gradient(145deg, var(--bg-start), var(--bg-end));
        }

        .noise-overlay {
            position: fixed;
            inset: 0;
            pointer-events: none;
            opacity: 0.18;
            mix-blend-mode: soft-light;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.2' numOctaves='2' stitchTiles='noStitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.9'/%3E%3C/svg%3E");
            z-index: 0;
        }

        .page {
            position: relative;
            z-index: 2;
            width: 100%;
            max-width: 960px;
            display: grid;
            grid-template-columns: minmax(0, 3fr) minmax(0, 2.5fr);
            gap: 32px;
        }

        @media (max-width: 800px) {
            .page {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        .hero-card {
            padding: 32px 32px 28px;
            background: var(--card-bg);
            border-radius: 18px;
            border: 1px solid var(--card-border);
            box-shadow:
                0 24px 60px rgba(0, 0, 0, 0.6),
                0 0 40px rgba(0, 0, 0, 0.75);
            position: relative;
            overflow: hidden;
        }

        .hero-card::before {
            content: "";
            position: absolute;
            inset: -120px;
            background:
                radial-gradient(circle at top left, rgba(255, 23, 68, 0.09), transparent 55%),
                radial-gradient(circle at bottom right, rgba(3, 169, 244, 0.12), transparent 55%);
            opacity: 1;
            pointer-events: none;
        }

        .hero-card-inner {
            position: relative;
            z-index: 1;
        }

        .title-row {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            gap: 12px;
            margin-bottom: 12px;
        }

        .title {
            font-family: 'Creepster', system-ui;
            font-size: clamp(42px, 5vw, 56px);
            letter-spacing: 0.08em;
            color: var(--accent-soft);
            text-shadow:
                0 0 18px rgba(255, 23, 68, 0.8),
                0 0 40px rgba(255, 23, 68, 0.6);
        }

        .tagline {
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            color: var(--text-muted);
        }

        .pill-row {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 16px;
        }

        .pill {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.14em;
            padding: 6px 10px;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: var(--pill-bg);
            color: var(--text-muted);
        }

        .pill--accent {
            border-color: rgba(255, 23, 68, 0.6);
            color: #ffcdd2;
        }

        .hero-text {
            font-size: 14px;
            line-height: 1.7;
            color: var(--text-muted);
            margin-bottom: 20px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 12px 18px;
            margin-bottom: 24px;
        }

        @media (max-width: 800px) {
            .feature-grid {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        .feature {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .feature-icon {
            width: 22px;
            height: 22px;
            border-radius: 999px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 13px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.12);
        }

        .feature-label {
            color: var(--text-main);
        }

        .controls-note {
            margin-top: 8px;
            font-size: 11px;
            color: var(--text-muted);
        }

        .controls-note code {
            background: rgba(255, 255, 255, 0.04);
            border-radius: 4px;
            padding: 1px 5px;
        }

        .cta-row {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
            margin-top: 10px;
        }

        .btn-primary {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 11px 24px;
            border-radius: 999px;
            border: none;
            cursor: pointer;
            font-family: 'Roboto Mono', monospace;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: #fff;
            background: radial-gradient(circle at top left, #ff5252, #ff1744);
            box-shadow:
                0 0 0 1px rgba(255, 255, 255, 0.12),
                0 0 22px rgba(255, 23, 68, 0.45);
            transition:
                transform 0.15s ease-out,
                box-shadow 0.15s ease-out,
                filter 0.15s ease-out;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow:
                0 0 0 1px rgba(255, 255, 255, 0.25),
                0 0 30px rgba(255, 23, 68, 0.65);
            filter: brightness(1.05);
        }

        .btn-primary:active {
            transform: translateY(1px) scale(0.99);
            box-shadow:
                0 0 0 1px rgba(255, 255, 255, 0.2),
                0 0 20px rgba(255, 23, 68, 0.5);
        }

        .btn-secondary {
            font-size: 11px;
            color: var(--text-muted);
        }

        .btn-secondary strong {
            color: var(--accent-soft);
        }

        .side-card {
            padding: 22px 22px 18px;
            background: rgba(6, 9, 13, 0.9);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .side-heading {
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: var(--text-muted);
        }

        .stat {
            display: flex;
            align-items: baseline;
            justify-content: space-between;
            font-size: 12px;
            color: var(--text-muted);
        }

        .stat strong {
            color: var(--text-main);
        }

        .mini-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .mini-list li {
            font-size: 11px;
            color: var(--text-muted);
            margin-bottom: 4px;
        }

        .mini-list li span {
            color: #c5e1a5;
        }

        /* Star Wars fly-out animation canvas */
        #starfield-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            opacity: 0.85;
        }
    </style>
</head>
<body>
    <canvas id="starfield-canvas"></canvas>
    <div class="noise-overlay"></div>
    <main class="page">
        <section class="hero-card">
            <div class="hero-card-inner">
                <div class="title-row">
                    <h1 class="title">Zombobs</h1>
                    <span class="tagline">v0.1 ¬∑ Canvas prototype</span>
                </div>

                <div class="pill-row">
                    <span class="pill pill--accent">Top‚Äëdown arena</span>
                    <span class="pill">Wave‚Äëbased</span>
                    <span class="pill">Guns &amp; zombies</span>
                </div>

                <p class="hero-text">
                    Survive endless waves of zombies in this fast-paced top-down arena shooter. Fight with 3 unique weapons, 
                    throw grenades, collect health and ammo pickups, and face off against normal and armored zombie variants. 
                    Built with pure HTML5 Canvas and JavaScript ‚Äî no engines, no frameworks, just you and the horde.
                </p>

                <div class="feature-grid">
                    <div class="feature">
                        <div class="feature-icon">üî´</div>
                        <div>
                            <div class="feature-label">3 distinct weapons</div>
                            <div>Pistol, Shotgun, Rifle with unique damage, fire rates &amp; ammo. Switch with 1/2/3 keys.</div>
                        </div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">üí£</div>
                        <div>
                            <div class="feature-label">Grenades</div>
                            <div>Throw explosives (G key) with AOE damage. 3 per game, 2s cooldown.</div>
                        </div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">üõ°Ô∏è</div>
                        <div>
                            <div class="feature-label">Enemy variety</div>
                            <div>Normal zombies plus armored variants with damage-absorbing armor.</div>
                        </div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">üì¶</div>
                        <div>
                            <div class="feature-label">Pickups</div>
                            <div>Health orbs (+25 HP) and ammo boxes (+15 ammo) spawn periodically.</div>
                        </div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">ü©∏</div>
                        <div>
                            <div class="feature-label">Juicy visuals</div>
                            <div>Screen shake, muzzle flash, blood splatter, floating damage numbers &amp; explosions.</div>
                        </div>
                    </div>
                    <div class="feature">
                        <div class="feature-icon">üèÜ</div>
                        <div>
                            <div class="feature-label">Progressive difficulty</div>
                            <div>Waves scale with speed, health &amp; count. High score tracking &amp; HUD stats.</div>
                        </div>
                    </div>
                </div>

                <div class="cta-row">
                    <button class="btn-primary" onclick="window.location.href='zombie-game.html'">
                        <span>Play now</span>
                    </button>
                    <div class="btn-secondary">
                        <div>WASD to move ¬∑ Mouse to aim ¬∑ Click to shoot ¬∑ <strong>1/2/3</strong> switch weapons ¬∑ <strong>G</strong> grenade ¬∑ <strong>R</strong> reload ¬∑ <strong>ESC</strong> pause</div>
                    </div>
                </div>

                <p class="controls-note">
                    Tip: For the smoothest experience, use a modern Chromium‚Äëbased browser and keep the tab focused.
                </p>
            </div>
        </section>

        <aside class="side-card">
            <div>
                <div class="side-heading">Run details</div>
                <div class="stat">
                    <span>Engine</span>
                    <strong>HTML5 Canvas</strong>
                </div>
                <div class="stat">
                    <span>Tech</span>
                    <strong>Vanilla JS</strong>
                </div>
                <div class="stat">
                    <span>Mode</span>
                    <strong>Endless waves</strong>
                </div>
            </div>

            <div>
                <div class="side-heading">v0.1 Features</div>
                <ul class="mini-list">
                    <li><span>‚úî</span> 3 weapons (Pistol, Shotgun, Rifle)</li>
                    <li><span>‚úî</span> Ammo system with reload mechanics</li>
                    <li><span>‚úî</span> Normal &amp; Armored zombies</li>
                    <li><span>‚úî</span> Health &amp; Ammo pickups</li>
                    <li><span>‚úî</span> Grenades with AOE damage</li>
                    <li><span>‚úî</span> Main menu &amp; pause system</li>
                    <li><span>‚úî</span> Progressive wave difficulty</li>
                    <li><span>‚úî</span> High score tracking</li>
                    <li><span>‚úî</span> Visual effects &amp; audio</li>
                </ul>
            </div>

            <div>
                <div class="side-heading">Coming in future updates</div>
                <ul class="mini-list">
                    <li><span>‚óã</span> Spitter &amp; Summoner zombies</li>
                    <li><span>‚óã</span> Boss waves every 5 rounds</li>
                    <li><span>‚óã</span> Temporary power-up pickups</li>
                    <li><span>‚óã</span> Base defense system</li>
                </ul>
            </div>
        </aside>
    </main>

    <script>
        // Star Wars-style fly-out animation for game elements
        const canvas = document.getElementById('starfield-canvas');
        const ctx = canvas.getContext('2d');
        
        let centerX = window.innerWidth / 2;
        let centerY = window.innerHeight / 2;
        let mouseX = centerX;
        let mouseY = centerY;
        
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            // Center is initialized here, but will be updated by mouse
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        window.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        // All active elements flying out
        const activeElements = [];
        
        // Element types with spawn configuration
        const elementTypes = [
            { type: 'zombie', speed: 0.8, size: 20, spawnInterval: 2000 },
            { type: 'armored', speed: 0.7, size: 22, spawnInterval: 2500 },
            { type: 'grenade', speed: 0.9, size: 15, spawnInterval: 1800 },
            { type: 'health', speed: 0.85, size: 12, spawnInterval: 2200 },
            { type: 'ammo', speed: 0.75, size: 12, spawnInterval: 2100 },
            { type: 'bullet', speed: 1.2, size: 8, spawnInterval: 500 } // Faster, smaller, more frequent
        ];
        
        // Track last spawn time for each type
        const lastSpawnTime = {};
        elementTypes.forEach(et => {
            lastSpawnTime[et.type] = Date.now() - Math.random() * et.spawnInterval; // Stagger initial spawns
        });
        
        // Function to spawn a new element
        function spawnElement(typeConfig) {
            const angle = Math.random() * Math.PI * 2; // Random direction
            activeElements.push({
                type: typeConfig.type,
                angle: angle,
                speed: typeConfig.speed + (Math.random() - 0.5) * 0.2, // Slight speed variation
                size: typeConfig.size,
                distance: 0,
                scale: 1,
                opacity: 1
            });
        }
        
        function drawZombie(x, y, size, scale) {
            const s = size * scale;
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);
            
            // Toxic aura
            const pulse = Math.sin(Date.now() / 250) * 0.4 + 0.6;
            const auraGradient = ctx.createRadialGradient(0, 0, s * 0.5, 0, 0, s * 2);
            auraGradient.addColorStop(0, `rgba(0, 255, 0, ${0.4 * pulse})`);
            auraGradient.addColorStop(1, 'rgba(0, 255, 0, 0)');
            ctx.fillStyle = auraGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s * 2, 0, Math.PI * 2);
            ctx.fill();
            
            // Body
            const bodyGradient = ctx.createRadialGradient(-4, -4, 0, 0, 0, s);
            bodyGradient.addColorStop(0, '#9acd32');
            bodyGradient.addColorStop(1, '#33691e');
            ctx.fillStyle = bodyGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s, 0, Math.PI * 2);
            ctx.fill();
            
            // Eyes
            const eyePulse = Math.sin(Date.now() / 167) * 0.3 + 0.7;
            ctx.fillStyle = `rgba(255, 0, 0, ${eyePulse})`;
            ctx.beginPath();
            ctx.arc(-s * 0.4, -s * 0.25, s * 0.25, 0, Math.PI * 2);
            ctx.arc(s * 0.4, -s * 0.25, s * 0.25, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
        }
        
        function drawArmoredZombie(x, y, size, scale) {
            const s = size * scale;
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);
            
            // Draw base zombie body first
            const pulse = Math.sin(Date.now() / 250) * 0.4 + 0.6;
            const auraGradient = ctx.createRadialGradient(0, 0, s * 0.5, 0, 0, s * 2);
            auraGradient.addColorStop(0, `rgba(0, 255, 0, ${0.4 * pulse})`);
            auraGradient.addColorStop(1, 'rgba(0, 255, 0, 0)');
            ctx.fillStyle = auraGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s * 2, 0, Math.PI * 2);
            ctx.fill();
            
            const bodyGradient = ctx.createRadialGradient(-4, -4, 0, 0, 0, s);
            bodyGradient.addColorStop(0, '#9acd32');
            bodyGradient.addColorStop(1, '#33691e');
            ctx.fillStyle = bodyGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s, 0, Math.PI * 2);
            ctx.fill();
            
            // Eyes
            const eyePulse = Math.sin(Date.now() / 167) * 0.3 + 0.7;
            ctx.fillStyle = `rgba(255, 0, 0, ${eyePulse})`;
            ctx.beginPath();
            ctx.arc(-s * 0.4, -s * 0.25, s * 0.25, 0, Math.PI * 2);
            ctx.arc(s * 0.4, -s * 0.25, s * 0.25, 0, Math.PI * 2);
            ctx.fill();
            
            // Overlay armor
            ctx.fillStyle = 'rgba(140, 140, 155, 0.96)';
            ctx.strokeStyle = '#303030';
            ctx.lineWidth = 2;
            
            // Chest plate
            ctx.fillRect(-s * 0.9, s * 0.2, s * 1.8, s * 1.1);
            ctx.strokeRect(-s * 0.9, s * 0.2, s * 1.8, s * 1.1);
            
            // Shoulder pads
            ctx.beginPath();
            ctx.arc(-s * 0.75, s * 0.3, s * 0.5, 0, Math.PI * 2);
            ctx.arc(s * 0.75, s * 0.3, s * 0.5, 0, Math.PI * 2);
            ctx.fill();
            ctx.stroke();
            
            ctx.restore();
        }
        
        function drawGrenade(x, y, size, scale) {
            const s = size * scale;
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);
            
            // Grenade body
            const grenadeGradient = ctx.createRadialGradient(-2, -2, 0, 0, 0, s);
            grenadeGradient.addColorStop(0, '#8b7355');
            grenadeGradient.addColorStop(1, '#4a3d2a');
            ctx.fillStyle = grenadeGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s, 0, Math.PI * 2);
            ctx.fill();
            
            // Segments
            ctx.strokeStyle = '#3a2d1a';
            ctx.lineWidth = 1.5;
            ctx.beginPath();
            ctx.moveTo(-s, -2);
            ctx.lineTo(s, -2);
            ctx.moveTo(-s, 0);
            ctx.lineTo(s, 0);
            ctx.moveTo(-s, 2);
            ctx.lineTo(s, 2);
            ctx.stroke();
            
            // Fuse
            ctx.fillStyle = '#ffaa00';
            ctx.beginPath();
            ctx.arc(0, -s - 2, 2, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
        }
        
        function drawHealthPickup(x, y, size, scale) {
            const s = size * scale;
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);
            
            const t = Date.now() / 500;
            const pulse = 0.8 + Math.sin(t) * 0.15;
            
            // Glow
            const glowGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, s * 2.2 * pulse);
            glowGradient.addColorStop(0, 'rgba(255, 255, 255, 0.9)');
            glowGradient.addColorStop(1, 'rgba(255, 0, 80, 0)');
            ctx.fillStyle = glowGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s * 2.2 * pulse, 0, Math.PI * 2);
            ctx.fill();
            
            // Core
            const coreGradient = ctx.createRadialGradient(-2, -2, 0, 0, 0, s);
            coreGradient.addColorStop(0, '#ff8a80');
            coreGradient.addColorStop(1, '#d50000');
            ctx.fillStyle = coreGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s, 0, Math.PI * 2);
            ctx.fill();
            
            // Cross
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(-s / 2, 0);
            ctx.lineTo(s / 2, 0);
            ctx.moveTo(0, -s / 2);
            ctx.lineTo(0, s / 2);
            ctx.stroke();
            
            ctx.restore();
        }
        
        function drawAmmoPickup(x, y, size, scale) {
            const s = size * scale;
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);
            
            const t = Date.now() / 500;
            const pulse = 0.8 + Math.sin(t) * 0.15;
            
            // Glow
            const glowGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, s * 2.2 * pulse);
            glowGradient.addColorStop(0, 'rgba(255, 255, 200, 0.9)');
            glowGradient.addColorStop(1, 'rgba(255, 152, 0, 0)');
            ctx.fillStyle = glowGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s * 2.2 * pulse, 0, Math.PI * 2);
            ctx.fill();
            
            // Core
            const coreGradient = ctx.createRadialGradient(-2, -2, 0, 0, 0, s);
            coreGradient.addColorStop(0, '#ffd54f');
            coreGradient.addColorStop(1, '#ff9800');
            ctx.fillStyle = coreGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s, 0, Math.PI * 2);
            ctx.fill();
            
            // Bullet icon
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(-s * 0.4, -s * 0.3, s * 0.8, s * 0.6);
            ctx.beginPath();
            ctx.moveTo(s * 0.4, -s * 0.3);
            ctx.lineTo(s * 0.6, 0);
            ctx.lineTo(s * 0.4, s * 0.3);
            ctx.fill();
            
            ctx.restore();
        }
        
        function drawBullet(x, y, size, scale) {
            const s = size * scale;
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);
            
            // Bullet glow (yellow)
            const bulletGlow = ctx.createRadialGradient(0, 0, 0, 0, 0, s * 2);
            bulletGlow.addColorStop(0, 'rgba(255, 255, 0, 0.8)');
            bulletGlow.addColorStop(1, 'rgba(255, 255, 0, 0)');
            ctx.fillStyle = bulletGlow;
            ctx.beginPath();
            ctx.arc(0, 0, s * 2, 0, Math.PI * 2);
            ctx.fill();
            
            // Bullet core
            const bulletGradient = ctx.createRadialGradient(-1, -1, 0, 0, 0, s);
            bulletGradient.addColorStop(0, '#ffffff');
            bulletGradient.addColorStop(0.5, '#ffff00');
            bulletGradient.addColorStop(1, '#ffaa00');
            ctx.fillStyle = bulletGradient;
            ctx.beginPath();
            ctx.arc(0, 0, s, 0, Math.PI * 2);
            ctx.fill();
            
            // Bullet outline
            ctx.strokeStyle = '#cc8800';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.arc(0, 0, s, 0, Math.PI * 2);
            ctx.stroke();
            
            ctx.restore();
        }
        
        function animate() {
            // Lerp center towards mouse position for smooth following
            centerX += (mouseX - centerX) * 0.03;
            centerY += (mouseY - centerY) * 0.03;

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            const now = Date.now();
            const maxDistance = Math.max(canvas.width, canvas.height) * 0.8;
            
            // Spawn new elements continuously
            elementTypes.forEach(typeConfig => {
                if (now - lastSpawnTime[typeConfig.type] >= typeConfig.spawnInterval) {
                    spawnElement(typeConfig);
                    lastSpawnTime[typeConfig.type] = now;
                }
            });
            
            // Update and draw all active elements
            for (let i = activeElements.length - 1; i >= 0; i--) {
                const el = activeElements[i];
                
                // Update distance (Star Wars effect - moving away)
                el.distance += el.speed;
                
                // Calculate position
                const x = centerX + Math.cos(el.angle) * el.distance;
                const y = centerY + Math.sin(el.angle) * el.distance;
                
                // Calculate scale and opacity (fade out as distance increases)
                el.scale = Math.max(0.1, 1 - (el.distance / maxDistance));
                el.opacity = Math.max(0, 1 - (el.distance / maxDistance) * 0.8);
                
                // Draw element if still visible
                if (el.distance < maxDistance && el.opacity > 0.05) {
                    ctx.save();
                    ctx.globalAlpha = el.opacity;
                    
                    switch(el.type) {
                        case 'zombie':
                            drawZombie(x, y, el.size, el.scale);
                            break;
                        case 'armored':
                            drawArmoredZombie(x, y, el.size, el.scale);
                            break;
                        case 'grenade':
                            drawGrenade(x, y, el.size, el.scale);
                            break;
                        case 'health':
                            drawHealthPickup(x, y, el.size, el.scale);
                            break;
                        case 'ammo':
                            drawAmmoPickup(x, y, el.size, el.scale);
                            break;
                        case 'bullet':
                            drawBullet(x, y, el.size, el.scale);
                            break;
                    }
                    
                    ctx.restore();
                } else {
                    // Remove element if too far or invisible
                    activeElements.splice(i, 1);
                }
            }
            
            requestAnimationFrame(animate);
        }
        
        // Start animation
        animate();
    </script>
</body>
</html>


